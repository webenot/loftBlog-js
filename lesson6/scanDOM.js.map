{"version":3,"sources":["scanDOM.jsx"],"names":[],"mappings":";;;;;;;;;;;;AAAA,IAAI,SAAS,EAAb;AACA,OAAO,OAAP,GAAiB,EAAjB;AACA,OAAO,IAAP,GAAc,EAAd;AACA,OAAO,IAAP,GAAc,CAAd;;AAEA,IAAI,OAAO,SAAP,IAAO,CAAU,SAAV,EAAqB;AAC/B,KAAG,OAAO,UAAU,UAAjB,KAAgC,WAAnC,EAAgD;AAC/C,SAAO,MAAP;AACA;AACD,KAAG,UAAU,UAAV,CAAqB,MAArB,KAAgC,CAAnC,EAAsC;AACrC,SAAO,MAAP;AACA;;AAED,MAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,UAAU,UAAV,CAAqB,MAAzC,EAAiD,GAAjD,EAAsD;AACrD;AACA,MAAI,UAAU,UAAV,CAAqB,CAArB,EAAwB,QAAxB,KAAqC,CAAzC,EAA4C;AAC3C,UAAO,IAAP;AACA,GAFD,MAEO;AACN,OAAI,UAAU,UAAV,CAAqB,CAArB,EAAwB,SAAxB,CAAkC,MAAtC,EAA8C;AAAA;AAAA;AAAA;;AAAA;AAC7C,qDAAgB,UAAU,UAAV,CAAqB,CAArB,EAAwB,SAAxC,4GAAmD;AAAA,UAA1C,GAA0C;;AAClD,UAAI,OAAO,OAAP,CAAe,cAAf,CAA8B,GAA9B,CAAJ,EAAwC;AACvC,cAAO,OAAP,CAAe,GAAf;AACA,OAFD,MAEO;AACN,qCAAsB,OAAO,OAA7B,EAAsC,GAAtC,EAA2C,EAAE;AAC5C,eAAO,CADmC,EAChC;AACV,oBAAY,IAF8B,EAExB;AAClB,kBAAU,IAHgC,EAG1B;AAChB,sBAAc,IAJ4B,CAIvB;AAJuB,QAA3C;AAMA;AACD;AAZ4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAa7C;AACD,OAAI,OAAO,IAAP,CAAY,cAAZ,CAA2B,UAAU,UAAV,CAAqB,CAArB,EAAwB,QAAnD,CAAJ,EAAkE;AACjE,WAAO,IAAP,CAAY,UAAU,UAAV,CAAqB,CAArB,EAAwB,QAApC;AACA,IAFD,MAEO;AACN,kCAAsB,OAAO,IAA7B,EAAmC,UAAU,UAAV,CAAqB,CAArB,EAAwB,QAA3D,EAAqE,EAAE;AACtE,YAAO,CAD6D,EAC1D;AACV,iBAAY,IAFwD,EAElD;AAClB,eAAU,IAH0D,EAGpD;AAChB,mBAAc,IAJsD,CAIjD;AAJiD,KAArE;AAMA;AACD;AACD;AACD,MAAK,IAAI,KAAI,CAAb,EAAgB,KAAI,UAAU,QAAV,CAAmB,MAAvC,EAA+C,IAA/C,EAAoD;AACnD,MAAI,UAAU,QAAV,CAAmB,EAAnB,EAAsB,QAAtB,CAA+B,MAAnC,EACC,KAAK,UAAU,QAAV,CAAmB,EAAnB,CAAL;AACD;AACD,QAAO,MAAP;AACA,CA5CD;;AA8CA,IAAI,UAAU,SAAV,OAAU,CAAU,SAAV,EAAqB;AAClC,KAAI,UAAU,MAAV,KAAqB,CAAzB,EAA4B;AAC3B,cAAY,SAAS,IAArB;AACA;AACD,MAAK,SAAL;AACA,MAAK,IAAI,IAAT,IAAiB,OAAO,IAAxB,EAA8B;AAC7B,UAAQ,GAAR,CAAY,WAAW,IAAX,GAAkB,IAAlB,GAAyB,OAAO,IAAP,CAAY,IAAZ,CAArC;AACA;AACD,KAAI,OAAO,IAAX,EACC,QAAQ,GAAR,CAAY,sBAAsB,OAAO,IAAzC;AACD,MAAK,IAAI,KAAT,IAAiB,OAAO,OAAxB,EAAiC;AAChC,UAAQ,GAAR,CAAY,yBAAyB,KAAzB,GAAgC,IAAhC,GAAuC,OAAO,OAAP,CAAe,KAAf,CAAnD;AACA;AACD,CAbD;;AAeA,OAAO,OAAP,GAAiB,OAAjB","file":"scanDOM.js","sourcesContent":["let result = {};\r\nresult.classes = {};\r\nresult.tags = {};\r\nresult.text = 0;\r\n\r\nlet scan = function (container) {\r\n\tif(typeof container.childNodes === 'undefined') {\r\n\t\treturn result;\r\n\t}\r\n\tif(container.childNodes.length === 0) {\r\n\t\treturn result;\r\n\t}\r\n\r\n\tfor (let i = 0; i < container.childNodes.length; i++) {\r\n\t\t//console.log(container.childNodes[i]);\r\n\t\tif (container.childNodes[i].nodeType === 3) {\r\n\t\t\tresult.text++;\r\n\t\t} else {\r\n\t\t\tif (container.childNodes[i].classList.length) {\r\n\t\t\t\tfor (let cls of container.childNodes[i].classList) {\r\n\t\t\t\t\tif (result.classes.hasOwnProperty(cls)) {\r\n\t\t\t\t\t\tresult.classes[cls]++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tObject.defineProperty(result.classes, cls, { // Это дескриптор свойства fullName\r\n\t\t\t\t\t\t\tvalue: 1, // default undefined - нельзя использовать вместе с get\r\n\t\t\t\t\t\t\tenumerable: true, // default false\r\n\t\t\t\t\t\t\twritable: true, // default false - нельзя использовать вместе с get\r\n\t\t\t\t\t\t\tconfigurable: true // default false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (result.tags.hasOwnProperty(container.childNodes[i].nodeName)) {\r\n\t\t\t\tresult.tags[container.childNodes[i].nodeName]++;\r\n\t\t\t} else {\r\n\t\t\t\tObject.defineProperty(result.tags, container.childNodes[i].nodeName, { // Это дескриптор свойства fullName\r\n\t\t\t\t\tvalue: 1, // default undefined - нельзя использовать вместе с get\r\n\t\t\t\t\tenumerable: true, // default false\r\n\t\t\t\t\twritable: true, // default false - нельзя использовать вместе с get\r\n\t\t\t\t\tconfigurable: true // default false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfor (let i = 0; i < container.children.length; i++) {\r\n\t\tif (container.children[i].children.length)\r\n\t\t\tscan(container.children[i]);\r\n\t}\r\n\treturn result;\r\n};\r\n\r\nlet scanDOM = function (container) {\r\n\tif (arguments.length === 0) {\r\n\t\tcontainer = document.body;\r\n\t}\r\n\tscan(container);\r\n\tfor (let prop in result.tags) {\r\n\t\tconsole.log('Тэгов ' + prop + ': ' + result.tags[prop]);\r\n\t}\r\n\tif (result.text)\r\n\t\tconsole.log('Текстовых узлов: ' + result.text);\r\n\tfor (let prop in result.classes) {\r\n\t\tconsole.log('Элементов с классом ' + prop + ': ' + result.classes[prop]);\r\n\t}\r\n};\r\n\r\nmodule.exports = scanDOM;"]}