{"version":3,"sources":["dz3.jsx"],"names":[],"mappings":"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","file":"dz3.js","sourcesContent":["let createBlock = () => {\r\n\tlet c = document.querySelector('.right-block');\r\n\tlet r = Math.floor(Math.random() * (256)),\r\n\t\tg = Math.floor(Math.random() * (256)),\r\n\t\tb = Math.floor(Math.random() * (256)),\r\n\t\twidth = Math.floor(Math.random() * (c.clientWidth / 2)),\r\n\t\theight = Math.floor(Math.random() * (c.clientHeight / 2)),\r\n\t\tx = Math.floor(Math.random() * (c.clientWidth - width)),\r\n\t\ty = Math.floor(Math.random() * (c.clientHeight - height));\r\n\r\n\tpaintDiv('rgb(' + r + ',' + g + ',' + b + ')', width + 'px', height + 'px', x + 'px', y + 'px');\r\n\r\n};\r\n\r\nlet paintDiv = (color, width, height, x, y) => {\r\n\tlet c = document.querySelector('.right-block');\r\n\tc.innerHTML = '';\r\n\tlet newDiv = document.createElement('div');\r\n\tnewDiv.classList.add('draggable');\r\n\tnewDiv.style.position = 'absolute';\r\n\tnewDiv.style.backgroundColor = color;\r\n\tnewDiv.style.width = width;\r\n\tnewDiv.style.height = height;\r\n\tnewDiv.style.top = y ;\r\n\tnewDiv.style.left = x;\r\n\tnewDiv.addEventListener('mouseover', (e) => {\r\n\t\te.target.style.cursor = 'move';\r\n\t});\r\n\tnewDiv.addEventListener('mouseout', (e) => {\r\n\t\te.target.style.cursor = 'default';\r\n\t});\r\n\tc.appendChild(newDiv);\r\n};\r\n\r\nlet btn = document.querySelector('#createBlock');\r\nbtn.addEventListener('click', createBlock);\r\n\r\nlet container = document.querySelector('.right-block');\r\nlet cont = container.getBoundingClientRect();\r\nlet movableElement, shiftX = 0, shiftY = 0;\r\n\r\nlet getDiv = (e) => {\r\n\tif (e.which != 1) { // если клик правой кнопкой мыши\r\n\t\treturn; // то он не запускает перенос\r\n\t}\r\n\tmovableElement = e.target.closest('.draggable');\r\n\r\n\tif (!movableElement) return;\r\n\tlet box = movableElement.getBoundingClientRect();\r\n\r\n\tshiftX = e.clientX - box.left;\r\n\tshiftY = e.clientY - box.top;\r\n};\r\nlet leaveDiv = (e) => {\r\n\tmovableElement = null;\r\n};\r\nlet moveDiv = (e) => {\r\n\tif (movableElement) {\r\n\t\tmovableElement.style.top = e.clientY - shiftY + 'px';\r\n\t\tmovableElement.style.left = e.clientX - shiftX + 'px';\r\n\r\n\t\tif (e.clientY - shiftY < cont.top) {\r\n\t\t\tmovableElement.style.top = '0';\r\n\t\t} else {\r\n\t\t\tif (e.clientY - shiftY > cont.top + cont.height - movableElement.clientHeight) {\r\n\t\t\t\tmovableElement.style.top = parseInt(cont.height) - movableElement.clientHeight + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tmovableElement.style.top = e.clientY - shiftY  - cont.top + 'px';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (e.clientX - shiftX < cont.left) {\r\n\t\t\tmovableElement.style.left = '0';\r\n\t\t} else {\r\n\t\t\tif (e.clientX - shiftX > cont.left + cont.width - movableElement.clientWidth) {\r\n\t\t\t\tmovableElement.style.left = cont.width - movableElement.clientWidth + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tmovableElement.style.left = e.clientX - shiftX - cont.left + 'px';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\ncontainer.addEventListener('mousedown', getDiv);\r\ncontainer.addEventListener('mouseup', leaveDiv);\r\ncontainer.addEventListener('mousemove', moveDiv);\r\n\r\nlet save = document.getElementById('saveState');\r\n\r\nsave.addEventListener('click', (e) => {\r\n\tlet el = document.querySelector('.draggable');\r\n\tif (el) {\r\n\t\tlet date = new Date();\r\n\t\tdate.setFullYear(date.getFullYear() + 1);\r\n\t\tdocument.cookie = 'rect=' + JSON.stringify({bgc: el.style.backgroundColor, top: el.style.top, left: el.style.left, width: el.style.width, height: el.style.height}) + '; expires=' + date.toUTCString();\r\n\t}\r\n});\r\n\r\nwindow.addEventListener('load', () => {\r\n\tlet params = document.cookie;\r\n\tparams = params.split('; ');\r\n\tlet rect = '';\r\n\tparams.forEach((item, index, arr) => {\r\n\t\tlet cookie = item.split('=');\r\n\t\tif (cookie[0] == 'rect') {\r\n\t\t\trect = cookie;\r\n\t\t}\r\n\t});\r\n\tif(rect) {\r\n\t\tparams = JSON.parse(rect[1]);\r\n\t\tpaintDiv(params.bgc, params.width, params.height, params.left, params.top);\r\n\t}\r\n});"]}