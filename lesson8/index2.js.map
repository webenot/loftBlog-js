{"version":3,"sources":["index2.jsx"],"names":[],"mappings":";;;;;;;;AAAA,IAAI,MAAM,CAAC,8FAAD,EAAiG,2DAAjG,EAA8J,sDAA9J,EAAsN,gFAAtN,EAAwS,iEAAxS,EAA2W,qDAA3W,CAAV;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;;;;;AAKA;;AAEA,SAAS,SAAT,CAAmB,GAAnB,EAAwB;AACvB,QAAO,sBAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACvC,UAAQ,GAAR,CAAY,mBAAZ;AACA,MAAI,IAAI,IAAI,KAAJ,EAAR;AACA,WAAS,IAAT,CAAc,WAAd,CAA0B,CAA1B;AACA,IAAE,GAAF,GAAQ,GAAR;AACA,IAAE,gBAAF,CAAmB,MAAnB,EAA2B;AAAA,UAAM,SAAN;AAAA,GAA3B;AACA,IAAE,gBAAF,CAAmB,OAAnB,EAA4B;AAAA,UAAM,QAAN;AAAA,GAA5B;AACA,EAPM,CAAP;AAQA;;AAED;;AAEA,IAAI,KAAJ,CAAU,CAAV,EAAa,MAAb,CAAoB,UAAU,WAAV,EAAuB,UAAvB,EAAmC,KAAnC,EAA0C,GAA1C,EAA+C;AAClE,QAAO,YAAY,IAAZ,CAAiB,YAAM;AAC7B,SAAO,UAAP;AACA,EAFM,EAEJ,IAFI,CAEC,YAAM;AACb,UAAQ,GAAR,CAAY,eAAe,QAAQ,CAAvB,IAA4B,oBAAxC;AACA,SAAO,UAAU,IAAI,KAAJ,CAAV,CAAP;AACA,EALM,EAKJ,KALI,CAKE,YAAM;AACd,UAAQ,GAAR,CAAY,WAAZ;AACA,EAPM,CAAP;AAQA,CATD,EASG,UAAU,IAAI,CAAJ,CAAV,CATH;;AAWA","file":"index2.js","sourcesContent":["let url = ['https://s-media-cache-ak0.pinimg.com/originals/70/af/5f/70af5fc85b63b4f54c90cace00fcecf6.jpg', 'http://www.unoosa.org/res/timeline/index_html/space-2.jpg', 'https://i.ytimg.com/vi/lt0WQ8JzLz4/maxresdefault.jpg', 'https://wallpaperscraft.com/image/planet_light_spots_space_86643_1920x1080.jpg', 'http://space-facts.com/wp-content/uploads/magellanic-clouds.png', 'http://www.drodd.com/images10/space-wallpaper18.jpg'];\r\n\r\n/*\r\nlet image = new Image();\r\n\r\ndocument.body.appendChild(image);\r\n\r\nimage.src = url1;\r\n\r\nimage.addEventListener('load', function (e) {\r\n\tconsole.log('Картинка 1 загружена');\r\n\tlet image = new Image();\r\n\r\n\tdocument.body.appendChild(image);\r\n\timage.src = url2;\r\n\r\n\timage.addEventListener('load', function (e) {\r\n\t\tconsole.log('Картинка 2 загружена');\r\n\t\tlet image = new Image();\r\n\r\n\t\tdocument.body.appendChild(image);\r\n\t\timage.src = url3;\r\n\r\n\t\timage.addEventListener('load', function (e) {\r\n\t\t\tconsole.log('Картинка 3 загружена');\r\n\t\t});\r\n\t});\r\n});*/\r\n\r\n/**\r\n * Промисы\r\n * @param url\r\n * @return {Promise}\r\n */\r\n// waiting/pending - ожидание, fullfilled/resolved - задача выполнена успешно, rejected - выполнено с ошибкой\r\n\r\nfunction loadImage(url) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconsole.log('Мы внутри промиса');\r\n\t\tlet i = new Image();\r\n\t\tdocument.body.appendChild(i);\r\n\t\ti.src = url;\r\n\t\ti.addEventListener('load', () => resolve());\r\n\t\ti.addEventListener('error', () => reject());\r\n\t});\r\n}\r\n\r\n//let p;\r\n\r\nurl.slice(1).reduce(function (prevPromise, curPromise, index, arr) {\r\n\treturn prevPromise.then(() => {\r\n\t\treturn curPromise;\r\n\t}).then(() => {\r\n\t\tconsole.log('Картинка ' + (index + 1) + ' загружена успешно');\r\n\t\treturn loadImage(arr[index]);\r\n\t}).catch(() => {\r\n\t\tconsole.log('С ошибкой');\r\n\t});\r\n}, loadImage(url[0]));\r\n\r\n/*\r\np.then(() => {\r\n\t\tconsole.log('Картинка 1 загружена успешно');\r\n\t\treturn loadImage(url[1]);\r\n\t}, () => {\r\n\t\tconsole.log('С ошибкой');\r\n\t});\r\n\tp.then(() => {\r\n\t\tconsole.log('Картинка 2 загружена успешно');\r\n\t\treturn loadImage(url[2]);\r\n\t}, () => {\r\n\t\tconsole.log('С ошибкой');\r\n\t})\r\n\t.then(() => {\r\n\t\tconsole.log('Картинка 3 загружена успешно');\r\n\t}, () => {\r\n\t\tconsole.log('С ошибкой');\r\n\t});*/\r\n"]}