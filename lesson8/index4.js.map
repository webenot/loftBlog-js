{"version":3,"sources":["index4.jsx"],"names":[],"mappings":";;;;;;;;AAAA,IAAI,MAAM,CAAC,8FAAD,EAAiG,2DAAjG,EAA8J,sDAA9J,EAAsN,gFAAtN,EAAwS,iEAAxS,EAA2W,qDAA3W,CAAV;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;;;;;AAKA;;AAEA,SAAS,SAAT,CAAmB,GAAnB,EAAwB;AACvB,SAAO,sBAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACvC,YAAQ,GAAR,CAAY,mBAAZ;AACA,QAAI,IAAI,IAAI,KAAJ,EAAR;AACA,aAAS,IAAT,CAAc,WAAd,CAA0B,CAA1B;AACA,MAAE,GAAF,GAAQ,GAAR;AACA,MAAE,gBAAF,CAAmB,MAAnB,EAA2B;AAAA,aAAM,SAAN;AAAA,KAA3B;AACA,MAAE,gBAAF,CAAmB,OAAnB,EAA4B;AAAA,aAAM,QAAN;AAAA,KAA5B;AACA,GAPM,CAAP;AAQA;;AAED,IAAI,IAAI,UAAU,IAAI,CAAJ,CAAV,CAAR;;AAEA,KAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,IAAI,MAAJ,GAAa,CAAjC,EAAoC,GAApC,EAAyC;AACxC,IAAE,IAAF;AACA;;AAED,EAAE,IAAF,CAAO,YAAM;AACZ,UAAQ,GAAR,CAAY,8BAAZ;AACA,SAAO,UAAU,IAAI,CAAJ,CAAV,CAAP;AACA,CAHD,EAGG,YAAM;AACR,UAAQ,GAAR,CAAY,WAAZ;AACA,CALD,EAKG,IALH,CAKQ,YAAM;AACb,UAAQ,GAAR,CAAY,8BAAZ;AACA,SAAO,UAAU,IAAI,CAAJ,CAAV,CAAP;AACA,CARD,EAQG,YAAM;AACR,UAAQ,GAAR,CAAY,WAAZ;AACA,CAVD,EAWE,IAXF,CAWO,YAAM;AACX,UAAQ,GAAR,CAAY,8BAAZ;AACA,CAbF,EAaI,YAAM;AACR,UAAQ,GAAR,CAAY,WAAZ;AACA,CAfF","file":"index4.js","sourcesContent":["let url = ['https://s-media-cache-ak0.pinimg.com/originals/70/af/5f/70af5fc85b63b4f54c90cace00fcecf6.jpg', 'http://www.unoosa.org/res/timeline/index_html/space-2.jpg', 'https://i.ytimg.com/vi/lt0WQ8JzLz4/maxresdefault.jpg', 'https://wallpaperscraft.com/image/planet_light_spots_space_86643_1920x1080.jpg', 'http://space-facts.com/wp-content/uploads/magellanic-clouds.png', 'http://www.drodd.com/images10/space-wallpaper18.jpg'];\r\n\r\n/*\r\n let image = new Image();\r\n\r\n document.body.appendChild(image);\r\n\r\n image.src = url1;\r\n\r\n image.addEventListener('load', function (e) {\r\n console.log('Картинка 1 загружена');\r\n let image = new Image();\r\n\r\n document.body.appendChild(image);\r\n image.src = url2;\r\n\r\n image.addEventListener('load', function (e) {\r\n console.log('Картинка 2 загружена');\r\n let image = new Image();\r\n\r\n document.body.appendChild(image);\r\n image.src = url3;\r\n\r\n image.addEventListener('load', function (e) {\r\n console.log('Картинка 3 загружена');\r\n });\r\n });\r\n });*/\r\n\r\n/**\r\n * Промисы\r\n * @param url\r\n * @return {Promise}\r\n */\r\n// waiting/pending - ожидание, fullfilled/resolved - задача выполнена успешно, rejected - выполнено с ошибкой\r\n\r\nfunction loadImage(url) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconsole.log('Мы внутри промиса');\r\n\t\tlet i = new Image();\r\n\t\tdocument.body.appendChild(i);\r\n\t\ti.src = url;\r\n\t\ti.addEventListener('load', () => resolve());\r\n\t\ti.addEventListener('error', () => reject());\r\n\t});\r\n}\r\n\r\nlet p = loadImage(url[0]);\r\n\r\nfor (let i = 1; i < url.length - 1; i++) {\r\n\tp.then()\r\n}\r\n\r\np.then(() => {\r\n\tconsole.log('Картинка 1 загружена успешно');\r\n\treturn loadImage(url[1]);\r\n}, () => {\r\n\tconsole.log('С ошибкой');\r\n}).then(() => {\r\n\tconsole.log('Картинка 2 загружена успешно');\r\n\treturn loadImage(url[2]);\r\n}, () => {\r\n\tconsole.log('С ошибкой');\r\n})\r\n\t.then(() => {\r\n\t\tconsole.log('Картинка 3 загружена успешно');\r\n\t}, () => {\r\n\t\tconsole.log('С ошибкой');\r\n\t});"]}